<style>
.quill-container {
  @apply relative;
}

.ql-editor {
  @apply min-h-[200px] bg-white;
}

.ql-editor h1 {
  @apply text-2xl font-bold;
}

.ql-editor h2 {
  @apply text-xl font-bold;
}
</style>

<div class="w-full">
  <% @microposts.published.each do |micropost| %>
    <!-- 表示部分 -->
    <div class="mt-2 p-3 rounded border shadow-md hover:shadow-lg transition-shadow duration-300">

      <!-- コンテンツ部分 -->
      <span class="text-gray-500 text-sm block"><%= micropost.created_at.strftime("%Y-%m-%d") %></span>
      
       <%= sanitize micropost.content, 
            tags: %w(p br h1 h2 h3 h4 h5 h6 ul ol li strong em u s blockquote pre code span div),
            attributes: %w(class style) %>
      
      <% if current_user == @user %>
        <div class="text-right mt-2">
          <!-- 削除ボタン -->
          <%= button_to "🗑️", micropost_path(slug: @user.slug, id: micropost.id), method: :delete, class: "text-red-500 hover:text-red-700 bg-transparent border-none cursor-pointer" %>
          <!-- Xでシェアするボタン -->
          <%= link_to "X",
          "https://twitter.com/intent/tweet?text=#{CGI.escape("✏️ #{micropost.content[0, 100]}... \n\neigopencil.com/welcome #eigopencil #英語学習")}",
            target: "_blank",
            rel: "noopener noreferrer",
            class: "text-white bg-gray-800 hover:bg-gray-700 px-2 py-1 rounded text-sm",
            aria: { label: "Share this post on X" } %>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
<!-- Include the Quill library -->
<script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>