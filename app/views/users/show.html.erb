<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One-Line English Diary</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<style>
.custom-input {
    border-radius: 30px;
    padding: 1rem 1.5rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;
}

.custom-input:focus {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    outline: none;
    border-color: #007bff;
}

.input-container {
    max-width: 400px;
    margin: 2rem auto;
}

.submit-btn {
    border-radius: 30px;
    padding: 0.75rem 1.5rem;
}
# body {
#     background-color: #f8f9fa;
#     display: flex;
#     flex-direction: column;
#     align-items: center;
#     #padding-top: 50px;
# }
# .diary-container {
#     max-width: 600px;
#     width: 100%;
#     background: white;
#     border-radius: 8px;
#     padding: 20px;
#     box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
# }
# .diary-input {
#     margin-bottom: 20px;
# }
# .diary-entries {
#     margin-top: 20px;
# }
# .diary-container {
#             max-width: 600px;
#             width: 100%;
#             background: white;
#             border-radius: 8px;
#             padding: 20px;
#             box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
#         }
#         .diary-input {
#             margin-bottom: 20px;
#         }
#         .diary-entries {
#             margin-top: 20px;
#         }
        .button-to-link-style {
  all: unset; /* ボタンのデフォルトスタイルをすべてリセット */
  color: blue; /* リンクの色 */
  text-decoration: underline; /* 下線を追加 */
  cursor: pointer; /* ポインターを表示 */
}
</style>
<body>
<div class="profile-sectiob">
<% provide(:title, @user.name) %>
<div class="text-center mt-5">
  <!--<%= gravatar_for @user %>--> 
  <h4><%= @user.name %></h4>   

  <skip_before_action>
 

<p class="mt-3 text-brown-600 px-4 py-2 text-white rounded-full border border-yellow-300 shadow-md inline-block" style="background-color: #eaad42;">
  <%= @posted_sum %> posts published🚀
</p>

<p class="text-brown-600 px-4 py-2 text-white rounded-full border border-yellow-300 shadow-md inline-block" style="background-color: #eaad42;">
  shared <%= @total_posts_characters %> words. yay!!<span>🎉</span>
</p>

<p class="text-brown-600 px-4 py-2 text-white rounded-full border border-yellow-300 shadow-md inline-block" style="background-color: #eaad42;">
<%= @draft_sum %> posts sleep in draft😴
</p>

<p class="text-brown-600 px-4 py-2 text-white rounded-full border border-yellow-300 shadow-md inline-block" style="background-color: #eaad42;">
consistent for a <%= @posted_dates_sum %> days😤
</p>







</div>

</div>


<div class="col-md-12">
<div id="requests">
<div class="container">

    <!--<span>🗓️ <%= @today.strftime("%m/%d") %></span>-->


<div class="grid grid-cols-7 gap-0 text-center border border-gray-300 rounded-md">
  <!-- 曜日部分 -->
  <div class="py-2 bg-gray-100 text-gray-500 font-bold border-r">Sun</div>
  <div class="py-2 bg-gray-100 text-gray-500 font-bold border-r">Mon</div>
  <div class="py-2 bg-gray-100 text-gray-500 font-bold border-r">Tue</div>
  <div class="py-2 bg-gray-100 text-gray-500 font-bold border-r">Wed</div>
  <div class="py-2 bg-gray-100 text-gray-500 font-bold border-r">Thu</div>
  <div class="py-2 bg-gray-100 text-gray-500 font-bold border-r">Fri</div>
  <div class="py-2 bg-gray-100 text-gray-500 font-bold">Sat</div>

  <!-- 日付部分 -->
  <% @calendar_days.each_slice(7) do |week| %>
    <% week.each do |date| %>
      <div class="h-12 border-r border-b flex items-center justify-center">
        <% if @posted_dates.include?(date.day) %>
          <div class="font-bold">
          ✅  <%= date.day %>
          </div>
        <% elsif date == Date.today %>
          <div class="bg-green-100 text-gray-800 font-semibold rounded">
            <%= date.day %>
          </div>
        <% else %>
          <div class="text-gray-600">
            <%= date.day %>
          </div>
        <% end %>
      </div>
    <% end %>
    <% if week.size < 7 %>
      <% (7 - week.size).times do %>
        <div class="h-12 border-r"></div>
      <% end %>
    <% end %>
  <% end %>
</div>


<% if current_user == @user %>
  <button class="btn btn-light">
    <%= link_to "📝draft", draft_path(current_user), class: "submit-button text-dark text-decoration-none" %>
  </button>
<% end %>


<% if @user.microposts.any? %>
  <!--<h3>History (<%= @user.microposts.count %>)</h3>-->
  <ol class="microposts mt-4">
    <%= render partial: 'microposts/micropost'%>
  </ol>
<% end %>
</div>











<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>