ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç™»éŒ²ã™ã‚‹(gem deviseã‚’ä½¿ç”¨ã™ã‚‹)
â†“
æ–‡å­—ã‚’postã—ã¦ã€
DBã«æ ¼ç´ã—ã¦ã€
ãã‚Œã‚’DBã‹ã‚‰å‡ºã—ã¦
viewã«è¡¨ç¤ºã—ã¦ã¿ã‚‹ã€‚


- ä¸€æ—¥ä¸€å›æŠ•ç¨¿ã—ãŸã‚‰ã€æ¬¡ã¯æŠ•ç¨¿ã§ããªããªã‚‹ã€‚
- é–“é•ãˆãŸã‚‰?(ã¾ã‚ã„ã£ã‹ã€‚ã‚ã¨ã§)


- deviseã§mailãƒ­ã‚°ã‚¤ãƒ³ã§ã¯ãªãã€åå‰ã‚„xã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã‚‹ã€‚
- xå°‚ç”¨ã§ãƒ­ã‚°ã‚¤ãƒ³ã•ã›ã‚‹
- æŠ•ç¨¿ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹(now!)
- submitã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ã¨ã„ã†ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ›¸ãã€‚
ã‚ˆãGPTã‚’èª­ã‚“ã§ã‹ã‚‰æ›¸ãå§‹ã‚ã‚‹ã€‚
æŠ•ç¨¿ã—ã¦ã€submitã—ã¦ã€è¡¨ç¤ºã™ã‚‹ã®ã¯ã„ãã¤ã‹ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒé‡ãªã‚‹ã€‚railsã§ã¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«åˆ†ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã„ã¡ã„ã¡ãƒšãƒ¼ã‚¸ã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ãã®å¾Œã«ajaxã¨ã‹ã‚’ã‚„ã‚Œã°ã„ã„ã€‚ã¾ãšã¯railsã®ãƒ«ãƒ¼ãƒ«ã«å‰‡ã£ã¦ã‚„ã£ã¦ã¿ã‚‹ã€‚ã¾ãšã¯ç´™ã«æ›¸ã„ã¦ã¿ã‚‹ã€‚

submitãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‚‰æŠ•ç¨¿ã•ã‚ŒãŸã„ã€‚
'entries/new'ã®ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã®ã§ã¯ãªãã€entries/newã®ä¸­ã§'form'ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦ã€users/createã§ã‚‚åŒã˜ã‚ˆã†ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã€‚

- entries/newã®é€ä¿¡ãƒ•ã‚©ãƒ¼ãƒ ãƒœã‚¿ãƒ³ã‚’users/showã«è¡¨ç¤ºã—ãŸã„
entries/newã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦ç½®ã„ã¦ãŠã„ãŸ_form.html.erbã‚’users/showã«ã‚‚ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦è¡¨ç¤ºã™ã‚‹ã€‚


åˆ†ã‹ã‚Šã‚„ã™ãã™ã‚‹ãŸã‚ã«users/newã¨ã„ã†é¢¨ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦ã„ãã€‚ãã—ã¦users/showã§ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹ã¨ã€ã¡ã‚ƒã‚“ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å…ˆã®entries/createã¸ç§»å‹•ã™ã‚‹ã‹ã‚‰å¤§ä¸ˆå¤«ã€‚

- show.html.erbã‚’ãã®ã¾ã¾ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚ã ã‹ã‚‰_showã¨ã—ã¦showã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦ã€_showã‚’usersã«ã‚‚ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ãŸã€‚äºŒæ®µéšã«ã™ã‚‹ç†ç”±ã¯entriesã®åŠ¹æœã‚’èã‹ã›ã‚‹ãŸã‚ã«ã¯entries/showã«å­˜åœ¨ã•ã›ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã‹ã‚‰ã€‚

- æ¬¡ã¯ã€ã“ã®é€ä¿¡ãƒœã‚¿ãƒ³ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦ãã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
entries/newã¨entries/_newã‚’ä½œã‚‹
_newã‚’newã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹
users/showã«_newã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã€‚
â†“
ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ã‚ˆãã™ã‚‹ã€‚

#ã€€ä»Š
- âœ…æŠ•ç¨¿ã—ãŸã‚„ã¤ã‚’Xã«ã‚·ã‚§ã‚¢ã™ã‚‹æ©Ÿèƒ½ã‚’ã¤ã‘ã‚‹ã€‚
- aboutãƒšãƒ¼ã‚¸ã‚’ä½œã£ã¦æ—¥è¨˜ã§ã‚‚ãƒ•ãƒ¬ãƒ¼ã‚ºã§ã‚‚ã„ã„ã‚ˆã€‚youtubeã‚’è¦‹ã¤ã‘ã¦ã‚ã€ã“ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’ã„ã„è¨€è‘‰ã ãªãƒ¼ã¨æ€ã£ãŸã‚‰ãƒ¡ãƒ¢ã—ã¦ãŠãã¨ã‹(å®Ÿéš›ã«deamon dominiqueã®å‹•ç”»ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å‹•ç”»ã‚’è²¼ã£ã¦èª¬æ˜ã—ã¦ã¿ã‚‹ã€‚æ­Œè©ã®ãƒ¯ãƒ³ãƒ•ãƒ¬ãƒ¼ã‚ºã§ã‚‚è¨€ã„æ–¹ã‹ã£ã“ã„ã„ãªã¨ã‹æ€ã£ãŸã‚‰æ›¸ã„ã¦ã„ãã€‚è‡ªç”±åº¦é«˜ãã€‚
)
- âœ…cssãŒè¢«ã£ã¦ã„ã‚‹ã‹ã‚‰çµ±ä¸€ã™ã‚‹ã€‚show/indexã¨home/indexã€‚ã—ã‹ã‚‚ã¡ã‚‡ã£ã¨ã‚¹ã‚¿ã‚¤ãƒ«ãŒé•ã†ã€‚
- åå‰ã§ãƒ­ã‚°ã‚¤ãƒ³
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¨­å®šã™ã‚‹ã€‚
- æŠ•ç¨¿ã™ã‚‹validationã‚’è¿½åŠ ã™ã‚‹ã€‚(140å­—ä»¥å†…)





# åç›ŠåŒ–
ã¿ã‚“ãªã®æŠ•ç¨¿ãŒè¦‹ã‚Œã‚‹ã€‚
åˆ†ã‹ã‚‰ãªã„æ™‚ã¨ã‹ã¯ã€æŠ•ç¨¿ã—ãŸäººã®ãƒªãƒ³ã‚¯ã‚’è¦‹ã‚Œã‚‹ã€‚
ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã§ãã‚‹ã€‚ã©ã‚Œãã‚‰ã„è‹±èªãŒæˆé•·ã—ãŸã¨ã‹ã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ—¥è¨˜ã‚’é›†ã‚ãŸãƒªã‚¹ãƒˆã‚’å£²ã‚‹ã€‚
è‹±èªæ•™æã‚’å£²ã‚‹ã€‚

# ã‚³ã‚¢
ã‚³ã‚¢ãŒãªã„ã‹ã‚‰ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã®æ®µéšã§å¾®å¦™ã«ãªã‚‹ã€‚ã ã‹ã‚‰ã¾ãšä½•ã‚’ã—ãŸã„ã®ã‹ã€‚ãƒ‡ã‚¶ã‚¤ãƒ³ã®å‰ã«ãã“ã‹ã‚‰ã‚„ã£ã¦ã¿ã‚‹ã€‚

xã§ã‚·ã‚§ã‚¢ã™ã‚‹ã¨ãã«ã‚«ãƒƒã‚³ã‚¤ã‚¤ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã—ã¦ãŠãã®ãŒãƒã‚¤ãƒ³ãƒˆã‹ã‚‚

# v0
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
æŠ•ç¨¿ã§ãã‚‹ã€‚
xã«æŠ•ç¨¿ã§ãã‚‹
# v1ä»¥é™
æ–‡ç« ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã“ã¨ãŒã§ãã‚‹->æœ‰æ–™
åºƒå‘Šã‚’çœãã“ã¨ãŒã§ãã‚‹->æœ‰æ–™
ã¿ã‚“ãªã®æŠ•ç¨¿ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹->æœ‰æ–™



# deviseã§nameè¿½åŠ 
https://github.com/heartcombo/devise?tab=readme-ov-file#strong-parameters

- Rails 4 moved the parameter sanitization from the model to the controller, causing Devise to handle this concern at the controller as well.

ã“ã®3ã¤ã®ã¿ãŒmodelã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã—ã¦ã„ãã€‚(ã“ã‚Œã«nameã‚’è¿½åŠ ã™ã‚Œã°è‰¯ã„ã£ã¦ã“ã¨ã‹ãª??)
sign_in (Devise::SessionsController#create) - Permits only the authentication keys (like email)
sign_up (Devise::RegistrationsController#create) - Permits authentication keys plus password and password_confirmation
account_update (Devise::RegistrationsController#update) - Permits authentication keys plus password, password_confirmation and current_password

ã§ã‚‚ã€ã‚ã‚“ã©ãã•ã‹ã£ãŸã‚‰ã“ã†ã‚„ã£ã¦æ›¸ãã“ã¨ãŒã§ãã‚‹

#

```ruby
class ApplicationController < ActionController::Base
  before_action :configure_permitted_parameters, if: :devise_controller?

  protected

  def configure_permitted_parameters
  #å˜ç´”ãªä¾‹(ä»–ã«ã‚‚2ã¤ã‚ã‚‹ã‘ã©ã€ã¾ã‚ã“ã‚Œã§ã‚„ã£ã¦ã¿ã‚‹ã€‚)
  devise_parameter_sanitizer.permit(:sign_up, keys: [:username])
ã€€end

end
```


ã“ã‚Œã®emailã‚’nameã«å¤‰ãˆã‚‹ã€‚ãã®è‰²ã€…ãªæ‰‹ç¶šãã‚’ã‚„ã‚‹ã€‚
# githubã«æ›¸ã„ã¦ã‚ã‚‹ã‚„ã¤ã‚’ã€ã‚‚ã†ä¸€åº¦å…¨éƒ¨è¨³ã—ã¦ã‹ã‚‰ç†è§£ã—ã¦ã¿ã‚‹ã€‚
# HTTP/cookie(session)
- http: å‰ã«ã‚„ã£ãŸã“ã¨ã¯å¿˜ã‚Œã¦ã„ã‚‹ã€‚ã ã‹ã‚‰å®‰å…¨
- cookie: è¦šãˆã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã€ç„¡é§„ãªç¹°ã‚Šè¿”ã—ã‚’é˜²ãã€‚(railsã§ã¯sessionãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚‹ã€‚)
sessionãŒã‚ã‚‹ã‹ã‚‰ã€è‡ªåˆ†ãŒã™ã§ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«æ¬¡å›ã‚‚ãƒ­ã‚°ã‚¤ãƒ³ã›ãšã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚
ãã—ã¦ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã™ã‚‹ã¨ã€sessionãŒdestroyã•ã‚Œã‚‹ã‚ˆã†ãªä»•çµ„ã¿ã«ã™ã‚‹ã€‚

#ã€€ç¶šã
logout errorã«ãªã£ã¦ã„ã‚‹ã‹ã‚‰ãã“ã‚’ç›´ã™ã€‚
javascriptã‚’rails7.0.8.6ã«å°å…¥ã—ã¦ã„ãã€‚
doc: https://guides.rubyonrails.org/v7.0/
import mapã‚’ä½¿ã£ã¦å®Ÿè£…ã—ã¦ã„ãã€‚(yarnã¨ã‹webpackå¿…è¦ãªã„ã‹ã‚‰ã€‚)
â†“
ã©ã†ã«ã‚‚ãªã‚‰ã‚“ã‹ã‚‰ã€æœ€åˆã‹ã‚‰ã«ã—ã¦ã€ä»Šã¾ã§æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã‚‚ã†ä¸€å›ã‚„ã£ã¦ã„ãã“ã¨ã«ã™ã‚‹ã€‚
â†“

# ç§»è¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚‚ã®
ãƒ¢ãƒ‡ãƒ«:

app/modelsé…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: user.rb, post.rbãªã©ï¼‰ã€‚
ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼:

app/controllersé…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: users_controller.rb, posts_controller.rbãªã©ï¼‰ã€‚
APIã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯app/controllers/apié…ä¸‹ã‚‚å¿˜ã‚Œãšã«ã€‚
ãƒ“ãƒ¥ãƒ¼:

app/viewsé…ä¸‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: users/index.html.erb, posts/show.html.erbãªã©ï¼‰ã€‚
ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«:

db/migrateé…ä¸‹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚³ãƒ”ãƒ¼ã€‚
è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«:

å¿…è¦ã«å¿œã˜ã¦configé…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: routes.rb, environmentsãƒ•ã‚©ãƒ«ãƒ€å†…ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãªã©ï¼‰ã€‚
ã‚¢ã‚»ãƒƒãƒˆï¼ˆå¿…è¦ãªå ´åˆï¼‰:

app/javascriptã‚„app/assetsé…ä¸‹ã®JavaScriptã€CSSã€ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã€‚
Gemfile:

ä¾å­˜ã™ã‚‹Gemã‚’æ–°ã—ã„Gemfileã«ç§»è¡Œã—ã€bundle installã‚’å®Ÿè¡Œã€‚

# ç§»è¡Œã™ã‚‹æ‰‹é †
dockerfile,ymlã‚’æ–°ãŸãªãƒ•ã‚¡ã‚¤ãƒ«ã§ä½œã‚‹ã€‚
ãã“ã§railsã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œã™ã‚‹ã€‚
â†“
å…¨ã¦ã‚³ãƒ”ãƒ¼ã—ã¦ç§»è¡Œã™ã‚‹ã€‚
â†“
å…¨ã¦ã‚’onedayonelineã«ã™ã‚Šæ›¿ãˆã¦ã€ã¡ã‚ƒã‚“ã¨èµ·å‹•ã™ã‚‹ã‹ç¢ºã‹ã‚ã‚‹ã€‚


# ãƒ‡ãƒ—ãƒ­ã‚¤
https://railstutorial.jp/chapters/sign_up?version=4.2#sec-professional_grade_deployment



sessionã¯å¿…è¦ãªã„ã‚ˆã­?
https://railstutorial.jp/chapters/updating_and_deleting_users?version=4.2#sec-friendly_forwarding
â†‘
ã“ã“ã‹ã‚‰å…ˆã¯é£›ã°ã—ã¦ã„ã‚‹ã€‚
10/24
# ç¶šã
write->
userpic->userãƒšãƒ¼ã‚¸->æ—¥è¨˜ã€ãƒ–ã‚¯ãƒ
åˆã‚ã¦ã®æ–¹ã¯ã“ã¡ã‚‰->
ãƒ–ãƒ­ã‚°->

zennã¿ãŸã„ã«ã€å³ä¸Šã«login&ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’æ›¸ã„ã¦ã¿ã‚‹ã€‚

#ã€€ä»Š
è‹±èª"æ—¥è¨˜"ã£ã¦ã„ã†è¨€ã„æ–¹ã‚’ã‚‚ã£ã¨æµ¸ã—è¦‹ã‚„ã™ã„ã‚‚ã®ã€ã‹ã£ã“ã„ã„ã‚‚ã®ã«å¤‰ãˆã‚Œã°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚‚ã£ã¨é£Ÿã„ã¤ãã¨æ€ã†ã€‚

è‹±èªã‚¸ãƒ£ãƒ¼ãƒŠãƒ«
ãƒ‡ã‚¤ãƒªãƒ¼ã‚¹ãƒ‘ãƒ¼ã‚¯ (Daily Spark)
1æ—¥ã®å§‹ã¾ã‚Šã‚„æ°—ã¥ãã‚’è‹±èªã§è¡¨ç¾ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚
Spark Daily
ã‚·ãƒ³ãƒ—ãƒ«ã«ã€ŒSparkã€ã‚’å‰ã«ã—ã¦ãƒªã‚ºãƒŸã‚«ãƒ«ãªéŸ¿ãã«ã€‚
Daily Glow
ã€Œå…‰ã€ã‚„ã€Œè¼ãã€ã‚’é€£æƒ³ã•ã›ã€ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå°è±¡ã€‚
Word Spark
1æ—¥ã®ã²ã‚‰ã‚ãã‚’ã€Œè¨€è‘‰ã€ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã€‚
Little Spark
1æ—¥ã®å°ã•ãªã²ã‚‰ã‚ãã‚’æ›¸ãç•™ã‚ã‚‹ã€‚
Daily Growth
æ—¥ã€…ã®æˆé•·ã‚’è¡¨ç¾ã€‚
Scribble Spark
æ°—è»½ã«è½æ›¸ãã®ã‚ˆã†ã«æ›¸ãæ„Ÿè¦šã€‚
Micro Spark
å°ã•ãªã²ã‚‰ã‚ããŒæ¯æ—¥ç©ã¿é‡ãªã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚
Spark Journey
å°ã•ãªã²ã‚‰ã‚ãã®æ—…ãŒå§‹ã¾ã‚‹ã€‚
Daily Seed
æˆé•·ã®ç¨®ã‚’æ¯æ—¥æ¤ãˆã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚
Quick Glow
ã™ãã«å–ã‚Šçµ„ã‚ã‚‹æ˜ã‚‹ã„è¨˜éŒ²ã€‚

ã€Œå°ã•ãªè¨€è‘‰ãŒã€å¤§ããªæˆé•·ã‚’ç”Ÿã‚€ã€‚ã€
ã€Œã‚ãªãŸã®æˆé•·ã¯ã€1è¡Œã‹ã‚‰å§‹ã¾ã‚‹ã€‚ã€
ã€Œä»Šæ—¥ã®1è¡ŒãŒã€æ˜æ—¥ã®è‡ªä¿¡ã«ã€‚ã€
ã€Œæ°—ã¥ã‘ã°è‹±èªãŒã€ã‚ãªãŸã®æ—¥å¸¸ã«ã€‚ã€
ã€Œæ›¸ããŸã³ã«ã€è‹±èªãŒã‚‚ã£ã¨èº«è¿‘ã«ã€‚ã€
ã€Œè‹±èªåŠ›ã¯ã€æ˜æ—¥ã§ã¯ãªãä»Šæ—¥ã®1è¡Œã‹ã‚‰å§‹ã¾ã‚‹ã€‚ã€
ã€Œæœªæ¥ã®è‡ªåˆ†ãŒæ„Ÿè¬ã™ã‚‹ç¿’æ…£ã‚’ã€ä»Šå§‹ã‚ã‚ˆã†ã€‚ã€
ğŸ”¥ã€Œè¨€è‘‰ã«ã™ã‚‹ãŸã³ã€è‹±èªãŒã‚ãªãŸã®ã‚‚ã®ã«ãªã‚‹ã€‚ã€
ã€Œ1è¡Œã®ç¨®ãŒã€å¤§ããªæœ¨ã«è‚²ã¤ã€‚ã€

# ã©ã†ã‚„ã£ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ¯æ—¥è‡ªåˆ†ã®ã‚¢ãƒ—ãƒªã«è¨ªã‚Œã•ã›ã‚‹ã®ã‹ã€‚
æ¯æ—¥æ¯æ—¥è‹±èªã‚¸ãƒ£ãƒ¼ãƒŠãƒ«ã‚’ç¶šã‘ã•ã›ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã®ã‹ã€‚
->è‡ªåˆ†ãŒè¦‹æœ¬ã«ãªã‚‹ã€‚
->ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã§æ†§ã‚Œã•ã›ã‚‹ã€‚
->ğŸ”¥ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ—¥è¨˜ã‚’æ›¸ãã“ã¨ã§ã©ã†ã‚ˆããªã‚‹ã®ã‹ä½•ã‹ã§ç´å¾—ã•ã›ã‚‹ã€‚(ã“ã‚Œã‚„ã‚!è‡ªåˆ†ãŒãã†ã ã‹ã‚‰)
->ğŸ”¥æ›¸ã„ãŸã‚¸ãƒ£ãƒ¼ãƒŠãƒ«ã®é€²åŒ–ã‚’è¦‹ã›ã‚‹ï¼š
AIãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŠ•ç¨¿ã‚’èª­ã¿å–ã£ã¦æˆé•·ã‚’å¯è¦–åŒ–ã™ã‚‹ã€Œã‚ãªãŸã®è‹±èªåŠ›ã®é€²åŒ–ãƒ¬ãƒãƒ¼ãƒˆã€ã‚’å®šæœŸçš„ã«é€ã‚‹ã€‚

ä¾‹ï¼šã€Œä»Šé€±ã®ã‚ãªãŸã®è‹±èªã¯ã€ã“ã‚“ãªã«ä¸Šé”ã—ã¾ã—ãŸï¼ã€
è‹±å˜èªã®ã‚«ã‚¦ãƒ³ãƒˆã€èªå½™ã®åºƒãŒã‚Šãªã©ã‚’å¯è¦–åŒ–ã€‚
ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã§ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ï¼š
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‹±èªã§è©±ã—ã¦ã„ã‚‹é¢¨æ™¯ã®ç”Ÿæˆã«åŠ ãˆã€ã‚¸ãƒ£ãƒ¼ãƒŠãƒ«å†…å®¹ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸæœªæ¥ã®ã‚·ãƒ¼ãƒ³ï¼ˆä¾‹ï¼šè‹±èªã§ãƒ—ãƒ¬ã‚¼ãƒ³ã™ã‚‹å§¿ã€æ—…è¡Œå…ˆã§è‹±èªã‚’è©±ã™è‡ªåˆ†ï¼‰ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã•ã›ã‚‹ã€‚

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹DBç„¡åŠ¹åŒ–æœ‰åŠ¹åŒ–
- gemfile
pgã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ
- config/application.rb 
22-26 line
- config/database.yml
1-22 linesã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ


```md
ã¯ã„ã€Railsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã›ãšã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ã€‚Railsã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å¿…è¦ã¨ã—ã¾ã™ãŒã€ã‚¢ãƒ—ãƒªãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã€ä»¥ä¸‹ã®æ‰‹é †ã§è¨­å®šã‚’å¤‰æ›´ã—ã¦å¯¾å¿œã§ãã¾ã™ã€‚

Railsã‚¢ãƒ—ãƒªã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã—ã§å‹•ä½œã•ã›ã‚‹æ–¹æ³•
1. Gemfile ã®èª¿æ•´
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£ã®Gemã‚’é™¤å»ã—ã¾ã™ã€‚

ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£ã®Gemï¼ˆä¾‹: pg, sqlite3ï¼‰ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã¾ãŸã¯å‰Šé™¤ã—ã¾ã™ã€‚

ruby
Copy code
# gem 'pg'         # PostgreSQL
# gem 'sqlite3'    # SQLite
Gemfileã‚’æ›´æ–°ã—ãŸã‚‰ã€ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š

bash
Copy code
bundle install
2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã—ã§Railsã‚’åˆæœŸåŒ–
Railsã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ç„¡åŠ¹åŒ–ã—ã¾ã™ã€‚

config/application.rb ã®è¨­å®šã‚’ç·¨é›†ï¼š

ruby
Copy code
module YourAppName
  class Application < Rails::Application
    config.load_defaults 7.0
    config.api_only = false  # å¿…è¦ã«å¿œã˜ã¦APIãƒ¢ãƒ¼ãƒ‰ãªã‚‰true
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ç„¡åŠ¹åŒ–
    config.active_record.migration_error = :app_start # Rails 6ä»¥é™
    config.active_record.database_selector = false
    config.active_record.legacy_connection_handling = false
  end
end
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Œå…¨ã«ç„¡åŠ¹åŒ–ã™ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

ruby
Copy code
config.generators do |g|
  g.orm :null
end
3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šã‚’ç„¡åŠ¹åŒ–
config/database.yml ã‚’å‰Šé™¤ã™ã‚‹ã‹ç„¡åŠ¹åŒ–ã—ã¾ã™ã€‚Herokuã¯ DATABASE_URL ã‚’å¿…è¦ã¨ã™ã‚‹å ´åˆãŒã‚ã‚‹ãŸã‚ã€å‰Šé™¤ã›ãšä»¥ä¸‹ã®ã‚ˆã†ã«ç©ºã®è¨­å®šã«ã—ã¦ãŠãã¨å®‰å…¨ã§ã™ï¼š

yaml
Copy code
default: &default
  adapter: null

development:
  <<: *default

test:
  <<: *default

production:
  <<: *default
4. Herokuã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤
Procfileã‚’ä½œæˆ
ã‚¢ãƒ—ãƒªãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã—ã§å‹•ä½œã™ã‚‹ã‚ˆã†ã«ã€Procfile ã‚’ä½œæˆã—ã¾ã™ã€‚

text
Copy code
web: bundle exec rails server -b 0.0.0.0 -p $PORT
ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã—ã§Herokuã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ï¼š

bash
Copy code
git add .
git commit -m "Deploy Rails app without database"
git push heroku main
Herokuã®ç’°å¢ƒå¤‰æ•°ç¢ºèª
DATABASE_URL ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§å‰Šé™¤ã—ã¾ã™ï¼š

bash
Copy code
heroku config:unset DATABASE_URL --app <ã‚¢ãƒ—ãƒªå>
5. RailsãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ç¢ºèª
ãƒ–ãƒ©ã‚¦ã‚¶ã§Herokuã®URLï¼ˆä¾‹: https://<ã‚¢ãƒ—ãƒªå>.herokuapp.comï¼‰ã‚’é–‹ãã€Railsã‚¢ãƒ—ãƒªãŒå‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

æ³¨æ„ç‚¹
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒä¸è¦ãªå ´åˆã§ã‚‚ã€ä¸€éƒ¨ã®Gemã‚„æ©Ÿèƒ½ï¼ˆä¾‹: ActiveRecordï¼‰ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚ãã‚Œã‚‰ã‚’ä½¿ç”¨ã—ãªã„ã‚ˆã†ã«è¨­è¨ˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å®Œå…¨ã«ç„¡åŠ¹åŒ–ã™ã‚‹ã®ã¯åŸºæœ¬çš„ã«æ¨å¥¨ã•ã‚Œã¾ã›ã‚“ãŒã€é™çš„ãªã‚¢ãƒ—ãƒªã‚„å˜ç´”ãªAPIã‚’æä¾›ã™ã‚‹å ´åˆã«é©ã—ã¦ã„ã¾ã™ã€‚
ã“ã‚Œã§Railsã‚¢ãƒ—ãƒªã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã—ã§Herokuã«ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¾ã™ï¼


I prefer this response
```

# render deploy
- hostãƒ–ãƒ­ãƒƒã‚¯ã€‚å¤šåˆ†renderå´ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã ã¨æ€ã†ã€‚
â†“
ã‚‚ã†ä¸€å›ä½œã‚Šç›´ã™ã®ã‚‚æ‰‹ã ã¨æ€ã†ã€‚
ondayoneline.comã®notionã«ç’°å¢ƒå¤‰æ•°ã‚’æ›¸ã„ã¦ãŠãã€‚ãã‚Œã‚’ã‚³ãƒ”ãƒšã€‚

_micropost.html.erb

```ruby
<div class="diary-container">
        <div class="diary-entries">
            <ul id="entriesList" class="list-group">

            
            <p><%= micropost.content %>
               <%= micropost.created_at %>
               #ã“ã‚Œã‚’æŠ¼ã—ãŸã‚‰ã€/microposts.18ã¨ã„ã†routeã¸ç§»å‹•ã™ã‚‹ã“ã¨ã«ãªã‚‹ã€‚
               <%= button_to "ğŸ—‘ï¸", micropost_path(micropost), method: :delete, data: { confirm: "Are you sure?" } %> 
               <p><%= micropost.inspect %></p>
            </p>      

            </ul>
        </div>
</div>
```



# current_userã‚’çœã„ã¦ã€friendlyã‚’ä½¿ã†ã€‚å®Œæˆã•ã›ã¦ã‹ã‚‰sessionã‚’friendlyã«è¿½åŠ ã—ã¦ã„ãã€‚

# ç¶šã
- æ‰‹æ›¸ãèªè­˜æ©Ÿèƒ½ã®å®Ÿè£…
formã§controllerã«ç”»åƒã‚’æŠ•ã’ã‚‹
controllerã§å‡¦ç†ã™ã‚‹ã€‚

```ruby
  def analyze
    # formã‹ã‚‰ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’å—ã‘å–ã‚‹
    uploaded_file = params[:image]

    if uploaded_file.nil?
      flash[:alert] = "ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚"
      redirect_to root_path
      return
    end

    # tmpã«ä¸€æ™‚ä¿å­˜
    file_path = Rails.root.join('tmp', uploaded_file.original_filename)
    #é–‹ã„ã¦ã€ä½•ã‹ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã€‚
    File.open(file_path, 'wb') do |file|
      file.write(uploaded_file.read)
    end

    # OCRã‚’å®Ÿè¡Œ
    recognized_text = HandwritingRecognizer.recognize(file_path)

    # çµæœã‚’è¡¨ç¤º
    render json: { text: recognized_text }
  ensure
    # ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
    File.delete(file_path) if File.exist?(file_path)
  end
```

problem: çµæœãŒå…¨ç„¶é•ã†æ–‡å­—åˆ—ãŒå‡ºåŠ›ã•ã‚ŒãŸã€‚

rubyå…¬å¼
https://github.com/dannnylo/rtesseract
å…¬å¼ã®å…¬å¼
https://github.com/tesseract-ocr/tesseract


- å‡¦ç†å‰ã«ç²¾åº¦ã‚’é«˜ãã—ã¦ã¿ã‚‹ã€‚
 ä»Š: rubyã«minimagicã¨ã„ã†imagemagickã‚’å–ã‚Šè¾¼ã‚€ãƒ„ãƒ¼ãƒ«ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã€‚(https://github.com/minimagick/minimagick)



-ã€Œtraineddataã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–ã‚Šè¾¼ã‚“ã§(å­¦ç¿’ãƒ‡ãƒ¼ã‚¿)å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
ãã‚Œã§ã‚‚å¤‰ã‚ã‚‰ãªã‹ã£ãŸã‚‰ã€
- ä»–ã®ORMã‚’æ¢ã™